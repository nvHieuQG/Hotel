<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>QuaTech-Chatbot</title>
    <link href="img/favicon.ico" rel="icon">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <style>
        body {
            background-color: #f4f6f9;
            font-family: 'Montserrat', sans-serif;
        }
        .chat-container {
            max-width: 900px;
            margin: 20px auto;
            background: linear-gradient(135deg, #e0f7fa, #80deea);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        .chat-history {
            height: 450px;
            overflow-y: auto;
            background: #fff;
            padding: 15px;
            border-radius: 10px;
            box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
        }
        .message {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .message.user {
            justify-content: flex-end;
        }
        .message.bot {
            justify-content: flex-start;
        }
        .message-text {
            max-width: 70%;
            padding: 12px;
            border-radius: 10px;
            font-size: 16px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease;
        }
        .user .message-text {
            background-color: #007bff;
            color: #fff;
            border-top-right-radius: 0;
        }
        .bot .message-text {
            background-color: #f1f1f1;
            color: #333;
            border-top-left-radius: 0;
        }
        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin: 0 10px;
        }
        .user .avatar {
            order: 2;
        }
        .bot .avatar {
            order: -1;
        }
        .input-group {
            margin-top: 10px;
        }
        .message-input {
            border-radius: 20px;
            padding: 12px;
            border: 1px solid #ddd;
            font-size: 16px;
            flex-grow: 1;
        }
        .btn-send {
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 50px;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 18px;
            transition: background-color 0.3s;
        }
        .btn-send:hover {
            background-color: #0056b3;
        }


            /* Đảm bảo header đứng im khi cuộn trang */     
            .navbar {
                position: sticky;
                top: 0;
                z-index: 1000;  /* Đảm bảo header nằm trên các phần tử khác */
                width: 100%;
                background-color: #40c4c9; /* Màu nền cho header */
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Tạo hiệu ứng bóng cho header */
                padding: 10px 0; /* Thêm khoảng cách trên và dưới cho header */
                display: flex;
            }
            .navbar .container-fluid {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 10px 20px;
}

.navbar-brand img {
    height: 50px; /* Điều chỉnh chiều cao logo */
}

.navbar-nav {
    display: flex;
    gap: 15px; /* Tạo khoảng cách giữa các nút */
    align-items: center;
}

.navbar-nav .nav-item {
    font-size: 16px;
    font-weight: 500;
    padding: 8px 15px;
    color: rgb(0, 0, 0) !important;
    /* background: #007bff; Màu nền */
    border-radius: 20px;
    transition: 0.3s;
}

.navbar-nav .nav-item:hover {
    background: #0056b3;
    color: #fff !important;
}

.navbar-toggler {
    border: none;
}

            /* General footer styles */
            .footer {
                background-color: #2b97a9; /* Dark background color */
                color: #fff; /* White text color */
                padding: 10px 0; /* Giảm padding để chiều cao footer thấp hơn */
                font-family: Arial, sans-serif;
                text-align: center;
            }

            /* Footer container */
            .footer .container-fluid {
                max-width: 1200px;
                margin: 0 auto;
                padding: 0 10px;
            }

            /* Footer info section */
            .footer-info h2 {
                font-size: 24px; /* Giảm kích thước font chữ của tiêu đề */
                margin-bottom: 10px;
                font-weight: 600;
            }

            .footer-info h3 {
                font-size: 14px; /* Giảm kích thước font chữ của địa chỉ */
                margin-bottom: 15px;
                font-weight: 400;
            }

            .footer-menu {
                margin-bottom: 15px;
            }

            .footer-menu p {
                margin: 5px 0;
                font-size: 14px; /* Giảm kích thước font chữ của thông tin liên hệ */
            }

            .footer-menu a {
                color: #fff;
                text-decoration: none;
            }

            /* Social media icons */
            .footer-social {
                margin-bottom: 10px; /* Giảm khoảng cách giữa các icon */
            }

            .footer-social .social-icon {
                font-size: 20px; /* Giảm kích thước icon */
                margin: 0 8px; /* Giảm khoảng cách giữa các icon */
                color: #fff;
                text-decoration: none;
                transition: color 0.3s ease;
            }

            .footer-social .social-icon:hover {
                color: #40c4c9; /* Color change on hover */
            }

            /* Copyright section */
            .copyright p {
                font-size: 12px; /* Giảm kích thước font chữ của copyright */
                color: #bbb;
                margin: 0;
            }

            .copyright a {
                color: #40c4c9;
                text-decoration: none;
            }

            .copyright a:hover {
                color: #fff;
            }

            /* Responsive Design for Mobile */
            @media (max-width: 768px) {
                .footer-info h2 {
                    font-size: 20px; /* Giảm kích thước font chữ của tiêu đề trên mobile */
                }

                .footer-info h3 {
                    font-size: 12px; /* Giảm kích thước font chữ của địa chỉ trên mobile */
                }

                .footer-menu p {
                    font-size: 12px; /* Giảm kích thước font chữ của thông tin liên hệ trên mobile */
                }

                .footer-social .social-icon {
                    font-size: 18px; /* Giảm kích thước icon trên mobile */
                }

                .copyright p {
                    font-size: 10px; /* Giảm kích thước font chữ của copyright trên mobile */
                }
            }
    </style>
</head>
<header>
    <div class="navbar navbar-expand-lg bg-light navbar-light">
        <div class="container-fluid">
            <!-- Logo -->
            <a href="index.html" class="navbar-brand">
                <img src="./img1/4.png" alt="">
            </a>

            <!-- Nút điều hướng -->
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <div class="navbar-nav">
                    <a href="./index.html" class="nav-item nav-link">Trang chủ</a>
                    <a href="./chatai.html" class="nav-item nav-link">Chatbot AI</a>
                </div>
            </div>

            <!-- Nút mở menu trên mobile -->
            <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </div>
</header>

<br>
<body>
    <div class="chat-container">
        <h2 class="text-center">Chatbot QuaTech</h2>
        <div id="chat-history" class="chat-history"></div>
        <div class="input-group">
            <input type="text" id="user-input" class="message-input" placeholder="Nhập câu hỏi của bạn..." onkeypress="checkEnter(event)">
            <button class="btn-send" onclick="sendMessage()">Gửi</button>
        </div>
    </div>
    <script>
        function checkEnter(event) {
            if (event.key === "Enter") {
                sendMessage();
            }
        }

        function sendMessage() {
            var userMessage = document.getElementById("user-input").value;
            if (userMessage.trim() !== "") {
                addMessageToChat(userMessage, 'user');
                document.getElementById("user-input").value = "";
                fetchGoogleGeminiResponse(userMessage);
            }
        }

        function addMessageToChat(message, sender) {
            var chatHistory = document.getElementById("chat-history");
            var newMessage = document.createElement("div");
            newMessage.classList.add("message", sender);

            var avatar = document.createElement("img");
            avatar.classList.add("avatar");
            avatar.src = sender === 'user' ? 'img1/user.png' : 'img1/4.png';

            var messageText = document.createElement("div");
            messageText.classList.add("message-text");
            messageText.textContent = message;

            newMessage.appendChild(avatar);
            newMessage.appendChild(messageText);
            chatHistory.appendChild(newMessage);
            chatHistory.scrollTop = chatHistory.scrollHeight;
        }

        function fetchGoogleGeminiResponse(userMessage) {
            const apiKey = 'AIzaSyACpbVqBRE4WNqNbsyqqsRQDMmrHqlNd7Q';
            const geminiEndpoint = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent?key=${apiKey}`;

            const requestBody = {
                contents: [{ parts: [{ text: userMessage }] }]
            };

            fetch(geminiEndpoint, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(requestBody),
            })
            .then(response => response.json())
            .then(data => {
                let botReply = "Xin lỗi, tôi không hiểu câu hỏi của bạn.";
                if (data && data.candidates && data.candidates.length > 0) {
                    botReply = data.candidates[0].content.parts[0].text.trim();
                }
                addMessageToChat(botReply, 'bot');
            })
            .catch(error => {
                console.error('Error:', error);
                addMessageToChat("Chatbot: Rất tiếc, có lỗi xảy ra!", 'bot');
            });
        }
    </script>
</body>
<!-- Footer Start -->
<div class="footer">
    <div class="container-fluid">
        <div class="container">
            <div class="footer-info">
                <h2>QuaTech</h2>
                <h3>Trinh Van Bo - Nam Tu Liem - Ha Noi</h3>
                <div class="footer-menu">
                    <p><strong>Phone:</strong> +012 345 67890</p>
                    <p><strong>Email:</strong> <a href="mailto:01quatech@gmail.com">01quatech@gmail.com</a></p>
                </div>
                <div class="footer-social">
                    <a href="" class="social-icon"><i class="fab fa-twitter"></i></a>
                    <a href="https://www.facebook.com/phamngocquan27" class="social-icon"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://www.youtube.com/channel/UCQQMqyZj4kvYbS_JClD2AQg" class="social-icon"><i class="fab fa-youtube"></i></a>
                    <a href="" class="social-icon"><i class="fab fa-instagram"></i></a>
                    <a href="" class="social-icon"><i class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
        </div>
        <div class="container copyright">
            <p>&copy; <a href="#">QuaTech</a>, All Rights Reserved | Designed By <a href="https://htmlcodex.com">QuaTech</a></p>
        </div>
    </div>
</div>

<!-- Footer End -->
</html>
